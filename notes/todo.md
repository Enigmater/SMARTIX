# todo

1. Транзакционности, блокировок и уровней изоляции в приложении нет. Но при этом
ведется работа с разными таблицами в одном методе, принимается решение о
возможности проведения платежа на основе текущего баланса пользователя. К чему
это может привести?

2. Возможны платежи на отрицательную и нулевую сумму. Если сумма меньше нуля, то
происходит пополнение баланса текущего пользователя.

3. Валидации параметров запросов в приложении нет. Так в БД можно сохранить
некорректный email.

4. Приложение правильно поделено на слои, но сервисы не реализуют интерфейсы.

5. В приложении не используются DTO-классы, все контроллеры реализованы через
параметры запросов. Также пользователю из API отдаются БД-cущности, а не их
DTO-представление

11. Между сущностями (пользователи и платежи) настроены двунаправленные связи. Но
нет аннотации @Lazy. Чем чреват такой подход?

12. В БД на таблицах нет CHECK, но есть уникальность по имени пользователя (login).
Уникальности по email нет, хотя кажется, что это поле тоже идентифицирует
пользователя. На таблицах для varchar указано дефолтное ограничение по длине 255
символов. Для всех ли полей нужна такая длина? Пол представлен строкой 255
символов. Выглядит избыточно, каким типом данных его лучше представить?

13. Для хранения баланса и сумм платежей в БД используется double precision.

14. Тип поля с датой рождения представлен строкой (varchar 255), каким типом данных
его лучше представить?

15. Переданный на регистрацию хэш пароля больше в приложении нигде не используется